webpackJsonp([19],{c21y:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("P9l9"),n={name:"DljIndex",data:function(){return{longweb:"",shortweb:"",success_short_url:"",iferr:!1,iferr2:!1,errmsg:"url格式不正确，请加上协议，如：http://www.zhaoheping.com或https://www.zhaoheping.com",errmsg2:"请检查格式，正确格式https://zhaoheping.com/t/aaa或者aaa",ifgreen:!1,ifgreen2:!1,stl:""}},created:function(){},computed:{host:function(){return"https://zhaoheping.com/t/"},length:function(){return this.host.length}},watch:{longweb:function(){/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/.test(this.longweb)?(this.ifgreen=!0,this.iferr=!1):this.ifgreen=!1},shortweb:function(){if(this.shortweb.length<9&&this.shortweb){/\W+/.test(this.shortweb)?this.ifgreen2=!1:(this.ifgreen2=!0,this.iferr2=!1)}else this.shortweb.length<35&&this.shortweb.slice(0,this.length)==this.host?(this.ifgreen2=!0,this.iferr2=!1):this.ifgreen2=!1}},methods:{fn1:function(){var e=this;this.longweb?this.ifgreen?(this.iferr=!1,Object(r.f)({lurl:this.longweb}).then(function(t){e.success_short_url=e.host+t.data.data}).catch(function(e){})):(this.errmsg="url格式不正确，请加上协议，如：http://www.zhaoheping.com或https://www.zhaoheping.com",this.iferr=!0):(this.errmsg="请输入内容勿留空",this.iferr=!0)},copy:function(){var e=this.$refs.webcopy;e.select(),document.execCommand("copy"),this.$Message.success("复制成功")},fn2:function(){var e=this;this.ifgreen2?(this.iferr2=!1,this.shortweb.length>24&&(this.shortweb=this.shortweb.slice(this.length)),Object(r.q)({arg:this.shortweb}).then(function(t){1==t.data.code?e.stl=t.data.data:(e.errmsg2="您输入的短网址不存在，请重新输入",e.iferr2=!0,e.stl="")}).catch(function(e){})):this.iferr2=!0}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"dlj"}},[s("h1",[e._v("短网址")]),e._v(" "),s("Tabs",{attrs:{size:"small"}},[s("TabPane",{attrs:{label:"缩短网址"}},[s("Input",{class:{greeninput:e.ifgreen},attrs:{search:"","enter-button":"缩短网址",placeholder:"请输入长网址...",type:"url"},on:{"on-search":e.fn1},model:{value:e.longweb,callback:function(t){e.longweb="string"==typeof t?t.trim():t},expression:"longweb"}}),e._v(" "),s("Alert",{directives:[{name:"show",rawName:"v-show",value:e.success_short_url,expression:"success_short_url"}],attrs:{type:"success"}},[s("a",{attrs:{href:e.success_short_url}},[e._v("\n          "+e._s(e.success_short_url)+"\n        ")]),e._v(" "),s("span",{ref:"webcopy",attrs:{title:"复制网址"},on:{click:e.copy}},[e._v("复制")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.success_short_url,expression:"success_short_url"}],ref:"webcopy",staticStyle:{position:"absolute",top:"0",left:"0",opacity:"0","z-index":"-10"},attrs:{id:"copy_content",type:"text"},domProps:{value:e.success_short_url},on:{input:function(t){t.target.composing||(e.success_short_url=t.target.value)}}}),e._v(" "),s("Alert",{directives:[{name:"show",rawName:"v-show",value:e.iferr,expression:"iferr"}],attrs:{type:"error"}},[e._v(e._s(e.errmsg))])],1),e._v(" "),s("TabPane",{attrs:{label:"还原网址"}},[s("Input",{class:{greeninput:e.ifgreen2},attrs:{search:"","enter-button":"还原网址",placeholder:"请输入短网址(如:https://zhaoheping.com/t/xxx)或直接输入后缀(如:xxx)..."},on:{"on-search":e.fn2},model:{value:e.shortweb,callback:function(t){e.shortweb="string"==typeof t?t.trim():t},expression:"shortweb"}}),e._v(" "),s("Alert",{directives:[{name:"show",rawName:"v-show",value:e.stl,expression:"stl"}],attrs:{type:"success"}},[s("a",{attrs:{href:e.stl}},[e._v("\n          "+e._s(e.stl)+"\n        ")])]),e._v(" "),s("Alert",{directives:[{name:"show",rawName:"v-show",value:e.iferr2,expression:"iferr2"}],attrs:{type:"error"}},[e._v(e._s(e.errmsg2))])],1)],1)],1)},staticRenderFns:[]};var o=s("C7Lr")(n,i,!1,function(e){s("lgb3")},"data-v-3c0a3e1c",null);t.default=o.exports},lgb3:function(e,t){}});