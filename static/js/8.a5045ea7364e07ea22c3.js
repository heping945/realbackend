webpackJsonp([8],{QeJ3:function(e,s){},c0mh:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t("P9l9"),o=(t("Muz9"),{name:"Login",inject:["reload"],data:function(){var e=this;return{err:"",isDisable:!1,ifshow:!1,userinfo:{username:"heping",password:"pp123456"},reguserinfo:{username:"",password:"",re_password:""},ruleInline:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],re_password:[{validator:function(s,t,r){""===t?r(new Error("请确认密码")):t!==e.reguserinfo.password?r(new Error("输入不一致")):r()},trigger:"blur"}]}}},computed:{host:function(){return"https://zhaoheping.com/login/"}},mounted:function(){this.$store.state.userinfo.token&&this.$router.push({name:"index"})},methods:{signUp:function(){this.ifshow=!this.ifshow},signIn:function(){this.ifshow=!this.ifshow},Signin:function(){var e=this;this.isDisable=!0,setTimeout(function(){e.isDisable=!1},1500),this.$refs.RegformInline.validate(function(s){s?Object(r.r)({username:e.reguserinfo.username,password:e.reguserinfo.re_password}).then(function(s){e.$Message.info({content:"用户>"+e.reguserinfo.username+"<注册成功,将在1s返回登录页面",duration:1,closable:!0,top:200}),e.isDisable=!0,setTimeout(function(){e.reload()},800)}).catch(function(s){var t=s.response.data.username||s.response.data.password;e.$Message.error(t[0])}):e.$Message.error("请检查输入")})},l:function(e){this.$router.push("www.baidu.com")},Login:function(){var e=this;this.isDisable=!0,setTimeout(function(){e.isDisable=!1},1e3),this.$refs.formInline.validate(function(s){s?Object(r.p)(e.userinfo).then(function(s){e.$Message.info({content:"登录成功",duration:1,closable:!0,top:200}),e.$store.dispatch("SaveToken",{token:s.data.token,username:s.data.username,avatar:s.data.avatar,id:s.data.user_id});var t=e.$route.query.backurl;t?e.$router.push({path:t}):e.$router.push({path:"/"})}).catch(function(s){e.$Message.error("用户名或密码错误"),e.error="用户名或密码错误"}):e.$Message.error("请检查输入")})}}}),n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"authen"},[t("Row",[t("Col",{attrs:{xs:0,sm:0,md:24,lg:24}},[t("div",{class:{container:!0,"right-panel-active":e.ifshow},attrs:{id:"container"}},[t("div",{staticClass:"form-container sign-up-container"},[t("div",{staticClass:"inputform"},[t("h1",[e._v("注册")]),e._v(" "),t("div",{staticClass:"social-container"},[t("a",{attrs:{href:e.host+"qq"}},[t("Icon",{staticClass:"shareicon",attrs:{custom:"icofont icon-qq",size:20}})],1),e._v(" "),t("a",{attrs:{href:e.host+"weixin"}},[t("Icon",{staticClass:"shareicon",attrs:{custom:"icofont icon-weixin",size:20}})],1),e._v(" "),t("a",{attrs:{href:e.host+"weibo"}},[t("Icon",{staticClass:"shareicon",attrs:{custom:"icofont icon-weibo1",size:20}})],1)]),e._v(" "),t("Form",{ref:"RegformInline",attrs:{model:e.reguserinfo,rules:e.ruleInline}},[t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.reguserinfo.username,callback:function(s){e.$set(e.reguserinfo,"username",s)},expression:"reguserinfo.username"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"输入密码"},model:{value:e.reguserinfo.password,callback:function(s){e.$set(e.reguserinfo,"password",s)},expression:"reguserinfo.password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),t("FormItem",{attrs:{prop:"re_password"}},[t("Input",{attrs:{type:"password",placeholder:"确认密码"},model:{value:e.reguserinfo.re_password,callback:function(s){e.$set(e.reguserinfo,"re_password",s)},expression:"reguserinfo.re_password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary",disabled:e.isDisable},on:{click:e.Signin}},[e._v("注册")])],1)],1)],1)]),e._v(" "),t("div",{staticClass:"form-container sign-in-container"},[t("div",{staticClass:"inputform"},[t("h1",[e._v("登录")]),e._v(" "),t("div",{staticClass:"social-container"},[t("a",{attrs:{href:e.host+"qq"}},[t("Icon",{staticClass:"shareicon",attrs:{custom:"icofont icon-qq",size:20}})],1),e._v(" "),t("a",{attrs:{href:e.host+"weixin"}},[t("Icon",{staticClass:"shareicon",attrs:{custom:"icofont icon-weixin",size:20}})],1),e._v(" "),t("a",{attrs:{href:e.host+"weibo"}},[t("Icon",{staticClass:"shareicon",attrs:{custom:"icofont icon-weibo1",size:20}})],1)]),e._v(" "),t("span",{staticStyle:{"margin-bottom":"20px"}},[e._v("第三方账号登录")]),e._v(" "),t("Form",{ref:"formInline",attrs:{model:e.userinfo,rules:e.ruleInline}},[t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.userinfo.username,callback:function(s){e.$set(e.userinfo,"username",s)},expression:"userinfo.username"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.userinfo.password,callback:function(s){e.$set(e.userinfo,"password",s)},expression:"userinfo.password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary",disabled:e.isDisable},on:{click:function(s){return e.Login("formInline")}}},[e._v("登录")])],1),e._v(" "),t("a",{attrs:{href:"#"}},[e._v("忘记密码？")])],1)],1)]),e._v(" "),t("div",{staticClass:"overlay-container"},[t("div",{staticClass:"overlay"},[t("div",{staticClass:"overlay-panel overlay-left"},[t("h1",[e._v("欢迎回来！")]),e._v(" "),t("p",[e._v("请您先登录的个人信息，进行操作。")]),e._v(" "),t("button",{staticClass:"ghost",attrs:{id:"signIn"},on:{click:e.signIn}},[e._v("登录")])]),e._v(" "),t("div",{staticClass:"overlay-panel overlay-right"},[t("h1",[e._v("你好朋友！")]),e._v(" "),t("p",[e._v("输入您的个人信息注册账号。")]),e._v(" "),t("button",{staticClass:"ghost",attrs:{id:"signUp"},on:{click:e.signUp}},[e._v("注册")])])])])])])],1)],1)},staticRenderFns:[]};var a=t("C7Lr")(o,n,!1,function(e){t("QeJ3")},"data-v-fdef2af2",null);s.default=a.exports}});